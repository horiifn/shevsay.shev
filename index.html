<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHEVSAY SKINS</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Orbitron:wght@800&display=swap');

        :root {
            --bg-color: #0A0A0A;
            --surface-color: rgba(22, 22, 22, 0.6); /* Полупрозрачный для эффекта стекла */
            --surface-light: rgba(35, 35, 35, 0.8);
            --primary-text-color: #F0F0F0;
            --secondary-text-color: #999;
            --border-color: rgba(255, 255, 255, 0.1);
            --accent-color: #E64A19;
            
            --quality-mil-spec: #4b69ff;
            --quality-restricted: #8847ff;
            --quality-classified: #d32ce6;
            --quality-prime: #ffae00;
        }
        
        /* --- НОВЫЙ ЖИВОЙ ФОН --- */
        @keyframes move-aurora {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.2); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        body::before, body::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 100vmax;
            height: 100vmax;
            border-radius: 50%;
            z-index: -1;
            filter: blur(100px);
            opacity: 0.15;
            animation: move-aurora 40s infinite linear;
        }
        body::before {
            background: radial-gradient(circle, var(--quality-classified), transparent 40%);
        }
        body::after {
            background: radial-gradient(circle, var(--quality-mil-spec), transparent 40%);
            animation-duration: 35s;
            animation-direction: reverse;
        }

        body {
            background-color: var(--bg-color);
            color: var(--primary-text-color);
            font-family: 'Inter', sans-serif;
            margin: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }

        /* --- Шапка сайта --- */
        .site-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 50px;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(16px);
            background-color: rgba(10, 10, 10, 0.75);
        }
        .logo {
            width: 80px; height: auto;
            transition: transform 0.4s ease;
        }
        .logo:hover { transform: scale(1.05); }

        .social-nav { display: flex; gap: 25px; }
        .social-link {
            color: var(--secondary-text-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9em;
            position: relative;
            padding: 5px 0;
            transition: color 0.3s ease;
        }
        .social-link::after {
            content: '';
            position: absolute;
            width: 100%; height: 2px;
            bottom: 0; left: 0;
            background: var(--primary-text-color);
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .social-link:hover { color: var(--primary-text-color); }
        .social-link:hover::after { transform: scaleX(1); transform-origin: bottom left; }

        /* --- Основной контент --- */
        .page-content {
            display: flex;
            flex: 1;
            padding: 40px 50px;
            gap: 40px;
        }

        /* --- Панель фильтров --- */
        .filter-sidebar { width: 280px; flex-shrink: 0; }
        .filter-sidebar h2 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 30px;
        }
        .filter-group { margin-bottom: 20px; }
        .category-filter details { margin-bottom: 5px; }
        .category-filter summary {
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            list-style: none;
            display: flex;
            align-items: center;
        }
        .category-filter summary:hover { background: var(--surface-light); }
        .category-filter summary::-webkit-details-marker { display: none; }
        .sub-category-list {
            padding-left: 30px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 5px;
        }
        .checkbox-container {
            display: block;
            position: relative;
            padding-left: 25px;
            margin-bottom: 10px;
            cursor: pointer;
            font-size: 0.95em;
            -webkit-user-select: none;
            user-select: none;
        }
        .checkbox-container input { position: absolute; opacity: 0; }
        .checkmark {
            position: absolute;
            top: 2px; left: 0;
            height: 16px; width: 16px;
            background-color: var(--surface-light);
            border: 1px solid var(--border-color);
            border-radius: 3px;
            transition: background-color 0.2s ease;
        }
        .checkbox-container:hover input ~ .checkmark { background-color: #444; }
        .checkbox-container input:checked ~ .checkmark { background-color: var(--accent-color); border-color: var(--accent-color); }
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 5px; top: 2px;
            width: 3px; height: 7px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        .checkbox-container input:checked ~ .checkmark:after { display: block; }
        
        /* --- Область с контентом --- */
        .content-area { flex-grow: 1; }
        .content-area h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.8em;
            margin: 0 0 10px 0;
            text-transform: uppercase;
        }
        .content-area .prompt {
            color: var(--secondary-text-color);
            font-size: 1.1em;
            max-width: 600px;
            margin-bottom: 40px;
        }
        .skins-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
        }

        /* --- НОВЫЙ ДИЗАЙН КАРТОЧЕК --- */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .skin-card {
            background: var(--surface-color);
            backdrop-filter: blur(12px); /* Эффект матового стекла */
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            overflow: hidden;
            border: 1px solid transparent; /* Начальный прозрачный бордер */
            padding: 1px; /* Для градиентной обводки */
            will-change: transform;
            transition: transform 0.3s ease, border-color 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s ease-out forwards;
            animation-delay: calc(var(--delay) * 50ms);
            display: flex;
            flex-direction: column;
        }
        .skin-card::before, .skin-card::after { /* Градиентная обводка */
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 12px;
            padding: 1px;
            background: linear-gradient(135deg, var(--rarity-color, #444), #222);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .skin-card:hover { transform: translateY(-8px); }
        .skin-card:hover::before, .skin-card:hover::after { opacity: 1; }

        .card-content {
            background-color: #121212;
            border-radius: 11px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .skin-image-wrapper {
            height: 160px;
            display: flex; align-items: center; justify-content: center;
            padding: 15px;
        }
        .skin-image-wrapper img {
            max-width: 100%; max-height: 100%;
            object-fit: contain;
            transition: transform 0.4s ease;
        }
        .skin-card:hover .skin-image-wrapper img { transform: scale(1.1); }
        
        .skin-info {
            padding: 15px;
            text-align: left;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .skin-name {
            font-size: 1.05em; font-weight: 700;
            margin: 0 0 8px 0;
            min-height: 42px;
        }
        .skin-price {
            font-size: 1.1em;
            color: var(--secondary-text-color);
            margin-bottom: 15px;
        }
        .skin-price span { color: var(--primary-text-color); font-weight: 500; }

        .developer-credit {
            font-size: 0.7em;
            color: var(--secondary-text-color);
            opacity: 0.5;
            text-align: center;
            margin-bottom: 15px;
        }

        .buy-button {
            display: block;
            text-align: center;
            background-color: var(--accent-color);
            color: white;
            padding: 10px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 700;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        .buy-button:hover {
            background-color: #ff5722;
            transform: scale(1.03);
        }
        
        .quality-mil-spec { --rarity-color: var(--quality-mil-spec); }
        .quality-restricted { --rarity-color: var(--quality-restricted); }
        .quality-classified { --rarity-color: var(--quality-classified); }
        .quality-prime { --rarity-color: var(--quality-prime); }

        /* Адаптивность */
        @media (max-width: 1200px) {
            .page-content { flex-direction: column; }
            .filter-sidebar { width: 100%; display: flex; flex-wrap: wrap; gap: 20px; }
            .filter-sidebar h2 { display: none; }
            .filter-group { flex: 1 1 250px; }
        }
        @media (max-width: 768px) {
            .site-header { flex-direction: column; gap: 15px; padding: 15px 20px; }
        }

    </style>
</head>
<body>

<div class="site-container">
    <header class="site-header">
        <div class="logo-container">
            <img src="https://assets.lis-skins.com/market_images/150567_b.png" alt="Shevsay Skins Logo" class="logo">
        </div>
        <nav class="social-nav">
            <a href="https://www.twitch.tv/shevsay" target="_blank" class="social-link">Twitch</a>
            <a href="https://t.me/shevsay" target="_blank" class="social-link">Telegram</a>
            <a href="https://steamcommunity.com/id/ShevTv/" target="_blank" class="social-link">Steam</a>
            <a href="https://www.donationalerts.com/r/shevsay" target="_blank" class="social-link">Поддержать</a>
        </nav>
    </header>

    <div class="page-content">
        <aside class="filter-sidebar" id="filterSidebar">
            <h2>Фильтры</h2>
            <!-- Фильтры будут сгенерированы JS -->
        </aside>

        <main class="content-area">
            <h1 id="contentTitle">Избранное</h1>
            <p class="prompt" id="contentPrompt">
                Добро пожаловать! Ниже представлены избранные награды.
                Чтобы найти больше скинов, воспользуйтесь фильтрами.
            </p>
            <div class="skins-grid" id="skinsGrid">
                <!-- Карточки генерируются здесь через JS -->
            </div>
        </main>
    </div>
</div>

<script>
    const filterData = {
        'Нож': ['Bayonet', 'Bowie Knife', 'Butterfly Knife', 'Classic Knife', 'Falchion Knife', 'Flip Knife', 'Gut Knife', 'Huntsman Knife', 'Karambit', 'Kukri Knife', 'M9 Bayonet', 'Navaja Knife', 'Nomad Knife', 'Paracord Knife', 'Shadow Daggers', 'Skeleton Knife', 'Stiletto Knife', 'Survival Knife', 'Talon Knife', 'Ursus Knife'],
        'Перчатки': ['Bloodhound Gloves', 'Broken Fang Gloves', 'Driver Gloves', 'Hand Wraps', 'Hydra Gloves', 'Moto Gloves', 'Specialist Gloves', 'Sport Gloves'],
        'Пистолет': ['CZ75-Auto', 'Desert Eagle', 'Dual Berettas', 'Five-SeveN', 'Glock-18', 'P2000', 'P250', 'R8 Revolver', 'Tec-9', 'USP-S'],
        'Пистолет-пулемет': ['MAC-10', 'MP5-SD', 'MP7', 'MP9', 'P90', 'PP-Bizon', 'UMP-45'],
        'Винтовка': ['AK-47', 'AUG', 'FAMAS', 'G3SG1', 'Galil AR', 'M4A1-S', 'M4A4', 'SCAR-20', 'SG 553'],
        'Снайперская винтовка': ['AWP', 'SSG 08'],
        'Дробовик': ['MAG-7', 'Nova', 'Sawed-Off', 'XM1014'],
        'Пулемет': ['M249', 'Negev'],
        'Другое': ['Агент', 'Брелок', 'Граффити', 'Кейсы', 'Капсулы', 'Наклейки', 'Прайм статус']
    };

    const skins = [
        { name: "SG 553 | Старина Ржавчик", price: 2000, image: "https://assets.lis-skins.com/market_images/147018_b.png", quality: "mil-spec", type: 'SG 553' },
        { name: "M4A1-S | Северный лес", price: 3000, image: "https://assets.lis-skins.com/market_images/9254_b.png", quality: "mil-spec", type: 'M4A1-S' },
        { name: "USP-S | Билет в ад", price: 5000, image: "https://assets.lis-skins.com/market_images/152529_b.png", quality: "restricted", type: 'USP-S' },
        { name: "AWP | Капилляры", price: 6500, image: "https://assets.lis-skins.com/market_images/145952_b.png", quality: "mil-spec", type: 'AWP' },
        { name: "AWP | Ахерон", price: 7000, image: "https://assets.lis-skins.com/market_images/60231_b.png", quality: "mil-spec", type: 'AWP' },
        { name: "M4A1-S | Нитро", price: 8000, image: "https://assets.lis-skins.com/market_images/9352_b.png", quality: "restricted", type: 'M4A1-S' },
        { name: "Desert Eagle | Рельсотрон", price: 14000, image: "https://assets.lis-skins.com/market_images/141501_b.png", quality: "restricted", type: 'Desert Eagle' },
        { name: "M4A1-S | Ночной ужас", price: 17000, image: "https://assets.lis-skins.com/market_images/152536_b.png", quality: "restricted", type: 'M4A1-S' },
        { name: "AK-47 | Затерянная земля", price: 18000, image: "https://assets.lis-skins.com/market_images/141457_b.png", quality: "mil-spec", type: 'AK-47' },
        { name: "M4A4 | Мастер травли", price: 20000, image: "https://assets.lis-skins.com/market_images/169019_b.png", quality: "restricted", type: 'M4A4' },
        { name: "Glock-18 | Ядерный сад", price: 25000, image: "https://assets.lis-skins.com/market_images/60260_b.png", quality: "classified", type: 'Glock-18' },
        { name: "USP-S | Сайрекс", price: 25000, image: "https://assets.lis-skins.com/market_images/16349_b.png", quality: "classified", type: 'USP-S' },
        { name: "AWP | Экзоскелет", price: 79999, image: "https://assets.lis-skins.com/market_images/148247_b.png", quality: "classified", type: 'AWP' },
        { name: "AK-47 | Ледяной Уголь", price: 85000, image: "https://assets.lis-skins.com/market_images/156705_b.png", quality: "classified", type: 'AK-47' },
        { name: "Прайм статус в CS2", price: 199999, image: "https://assets.lis-skins.com/market_images/150602_b.png", quality: "prime", type: 'Прайм статус' }
    ];

    document.addEventListener('DOMContentLoaded', () => {
        const grid = document.getElementById('skinsGrid');
        const filterSidebar = document.getElementById('filterSidebar');
        const contentTitle = document.getElementById('contentTitle');
        const contentPrompt = document.getElementById('contentPrompt');

        const featuredSkins = ['Прайм статус в CS2', 'AK-47 | Ледяной Уголь', 'AWP | Экзоскелет'];
        let activeFilters = {
            types: new Set()
        };

        function renderSkins() {
            grid.innerHTML = '';
            
            const isFiltered = activeFilters.types.size > 0;
            let skinsToRender;

            if (!isFiltered) {
                skinsToRender = skins.filter(s => featuredSkins.includes(s.name));
                contentTitle.textContent = "Избранное";
                contentPrompt.style.display = 'block';
            } else {
                skinsToRender = skins.filter(skin => activeFilters.types.has(skin.type));
                contentTitle.textContent = "Результаты поиска";
                contentPrompt.style.display = 'none';
            }

            if (skinsToRender.length === 0 && isFiltered) {
                grid.innerHTML = '<p>По вашему запросу ничего не найдено. Попробуйте изменить фильтры.</p>';
            }

            skinsToRender.forEach((skin, index) => {
                const card = document.createElement('div');
                card.className = `skin-card quality-${skin.quality || 'default'}`;
                card.style.setProperty('--delay', index);

                card.innerHTML = `
                    <div class="card-content">
                        <div class="skin-image-wrapper">
                            <img src="${skin.image}" alt="${skin.name}" loading="lazy">
                        </div>
                        <div class="skin-info">
                            <div>
                                <h2 class="skin-name">${skin.name}</h2>
                                <p class="skin-price"><span>${skin.price.toLocaleString('ru-RU')}</span> баллов</p>
                            </div>
                            <div>
                                <p class="developer-credit">Developer: / @horiifn</p>
                                <a href="https://www.twitch.tv/shevsay" target="_blank" class="buy-button">Купить</a>
                            </div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function createFilters() {
            const categoryGroup = document.createElement('div');
            categoryGroup.className = 'filter-group category-filter';
            categoryGroup.innerHTML = '<h3>Категории</h3>';

            for (const category in filterData) {
                const details = document.createElement('details');
                details.id = `details-${category.replace(/\s+/g, '-')}`;
                const subTypes = filterData[category];

                details.innerHTML = `
                    <summary>
                        <label class="checkbox-container"> ${category}
                            <input type="checkbox" data-category="${category}">
                            <span class="checkmark"></span>
                        </label>
                    </summary>
                `;

                if (subTypes.length > 0) {
                    const subList = document.createElement('div');
                    subList.className = 'sub-category-list';
                    subTypes.forEach(type => {
                        subList.innerHTML += `
                            <label class="checkbox-container"> ${type}
                                <input type="checkbox" data-type-for-category="${category}" value="${type}">
                                <span class="checkmark"></span>
                            </label>
                        `;
                    });
                    details.appendChild(subList);
                }
                categoryGroup.appendChild(details);
            }
            filterSidebar.appendChild(categoryGroup);
            
            // --- НОВАЯ, ИСПРАВЛЕННАЯ ЛОГИКА ФИЛЬТРОВ ---
            filterSidebar.addEventListener('change', (e) => {
                const target = e.target;
                
                // Если кликнули на главную категорию
                if (target.dataset.category) {
                    const category = target.dataset.category;
                    const isChecked = target.checked;
                    const subCheckboxes = document.querySelectorAll(`input[data-type-for-category="${category}"]`);
                    
                    subCheckboxes.forEach(subCheckbox => {
                        subCheckbox.checked = isChecked;
                        if (isChecked) {
                            activeFilters.types.add(subCheckbox.value);
                        } else {
                            activeFilters.types.delete(subCheckbox.value);
                        }
                    });
                }
                // Если кликнули на подкатегорию
                else if (target.dataset.typeForCategory) {
                    if (target.checked) {
                        activeFilters.types.add(target.value);
                    } else {
                        activeFilters.types.delete(target.value);
                    }
                }
                
                renderSkins();
            });
        }

        createFilters();
        renderSkins();
    });
</script>

</body>
</html>
